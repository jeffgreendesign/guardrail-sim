---
title: Getting Started
description: Set up guardrail-sim in your project
---

# Getting Started

Install guardrail-sim and evaluate your first policy in 5 minutes.

## Installation

```bash
# Core policy engine
npm install @guardrail-sim/policy-engine

# MCP server for AI agent integration
npm install @guardrail-sim/mcp-server

# Optional: UCP types for TypeScript
npm install @guardrail-sim/ucp-types

# Optional: Policy insights and health checks
npm install @guardrail-sim/insights
```

## Your First Policy Evaluation

The policy engine evaluates discount requests against rules:

```typescript
import { PolicyEngine, defaultPolicy } from '@guardrail-sim/policy-engine';
import type { Order } from '@guardrail-sim/policy-engine';

// Create engine with default policy
const engine = new PolicyEngine(defaultPolicy);

// Define an order
const order: Order = {
  order_value: 5000, // $5,000 order
  quantity: 100, // 100 units
  product_margin: 0.4, // 40% base margin
  customer_segment: 'gold',
};

// Evaluate a 12% discount request
const result = await engine.evaluate(order, 0.12);

console.log(result);
// {
//   approved: true,
//   violations: [],
//   triggeredRules: ['margin_floor', 'max_discount'],
//   calculated_margin: 0.28
// }
```

## Default Policy Rules

The default policy includes these rules:

| Rule           | Description                   | Limit                        |
| -------------- | ----------------------------- | ---------------------------- |
| `margin_floor` | Minimum margin after discount | 15%                          |
| `max_discount` | Maximum allowed discount      | 25%                          |
| `volume_tier`  | Volume-based discount limits  | 10% base, 15% for 100+ units |

## Custom Policies

Create your own policy with custom rules:

```typescript
import { PolicyEngine } from '@guardrail-sim/policy-engine';
import type { Policy } from '@guardrail-sim/policy-engine';

const customPolicy: Policy = {
  id: 'holiday-2026',
  name: 'Holiday Sale Policy',
  description: 'Special limits for holiday promotions',
  rules: [
    {
      id: 'holiday-max',
      name: 'Holiday Max Discount',
      priority: 1,
      conditions: { all: [] },
      event: {
        type: 'max_discount',
        params: { limit: 0.3 }, // 30% max
      },
    },
  ],
};

const engine = new PolicyEngine(customPolicy);
```

## Using with MCP

For AI agent integration, run the MCP server:

```bash
# Start the MCP server
npx @guardrail-sim/mcp-server
```

Add to your Claude Desktop config (`~/Library/Application Support/Claude/claude_desktop_config.json`):

```json
{
  "mcpServers": {
    "guardrail-sim": {
      "command": "npx",
      "args": ["@guardrail-sim/mcp-server"]
    }
  }
}
```

The MCP server exposes 5 tools:

- `evaluate_policy` - Evaluate discount against policy
- `get_policy_summary` - Get human-readable policy rules
- `get_max_discount` - Calculate maximum allowed discount
- `validate_discount_code` - UCP-aligned pre-validation
- `simulate_checkout_discount` - Full checkout simulation

## Next Steps

- Learn about [Policies](/docs/concepts/policies) in depth
- Explore the [MCP Tools](/docs/mcp-tools) reference
- See [real-world examples](/docs/examples/discount-stacking)
- Check [Policy Insights](/docs/packages/insights) for health checks
