---
title: MCP Resources
description: MCP resources exposed by the Guardrail-Sim server.
---

# MCP Resources

The Guardrail-Sim MCP server exposes resources that clients can read to understand the current policy configuration.

## Available Resources

### guardrail://policies/active

The currently active pricing policy configuration.

**URI:** `guardrail://policies/active`
**MIME Type:** `application/json`

#### Reading the Resource

```typescript
const result = await client.readResource({
  uri: 'guardrail://policies/active',
});

const policy = JSON.parse(result.contents[0].text);
console.log(policy);
```

#### Response

```json
{
  "id": "default",
  "name": "Default Pricing Policy",
  "rules": [
    {
      "name": "margin_floor",
      "conditions": {
        "all": [
          {
            "fact": "calculated_margin",
            "operator": "lessThan",
            "value": 0.15
          }
        ]
      },
      "event": {
        "type": "violation",
        "params": {
          "rule": "margin_floor",
          "message": "Discount would reduce margin below 15% floor",
          "limit": 0.15
        }
      },
      "priority": 1
    },
    {
      "name": "max_discount",
      "conditions": {
        "all": [
          {
            "fact": "proposed_discount",
            "operator": "greaterThan",
            "value": 0.25
          }
        ]
      },
      "event": {
        "type": "violation",
        "params": {
          "rule": "max_discount",
          "message": "Discount exceeds maximum allowed 25%",
          "limit": 0.25
        }
      },
      "priority": 2
    },
    {
      "name": "volume_tier",
      "conditions": {
        "all": [
          {
            "fact": "quantity",
            "operator": "lessThan",
            "value": 100
          },
          {
            "fact": "proposed_discount",
            "operator": "greaterThan",
            "value": 0.1
          }
        ]
      },
      "event": {
        "type": "violation",
        "params": {
          "rule": "volume_tier",
          "message": "Orders under 100 units limited to 10% discount",
          "limit": 0.1
        }
      },
      "priority": 3
    }
  ]
}
```

## Resource Fields

### Policy Object

| Field   | Type   | Description                      |
| ------- | ------ | -------------------------------- |
| `id`    | string | Unique identifier for the policy |
| `name`  | string | Human-readable policy name       |
| `rules` | array  | List of json-rules-engine rules  |

### Rule Object

| Field        | Type   | Description                       |
| ------------ | ------ | --------------------------------- |
| `name`       | string | Rule identifier                   |
| `conditions` | object | json-rules-engine conditions      |
| `event`      | object | Event fired when conditions match |
| `priority`   | number | Evaluation order (lower = first)  |

## Use Cases

### Caching Policy Configuration

If your client needs to understand the full policy:

```typescript
// Fetch once at startup
const policyResource = await client.readResource({
  uri: 'guardrail://policies/active',
});
const policy = JSON.parse(policyResource.contents[0].text);

// Use for client-side validation hints
function getDiscountHint(quantity: number): string {
  const volumeRule = policy.rules.find((r) => r.name === 'volume_tier');
  if (quantity >= 100) {
    return 'Volume tier: up to 15% available';
  }
  return 'Base tier: up to 10% available';
}
```

### Displaying Policy in UI

```typescript
// Show policy rules to users
const policy = await fetchActivePolicy();

return (
  <div>
    <h2>{policy.name}</h2>
    <ul>
      {policy.rules.map(rule => (
        <li key={rule.name}>
          {rule.event.params.message}
        </li>
      ))}
    </ul>
  </div>
);
```

## Related

- [MCP Server Overview](/docs/mcp-server) - All available tools and resources
- [Policy Engine](/docs/policy-engine) - Understanding the rule format
